<div class="mb-5">
  <h1 class="text-2xl font-semibold text-green-900">Add New Cow</h1>
</div>

<div class="bg-white rounded-md shadow-sm p-7 max-w-lg">
  @if (errorMessage) {
    <div
      class="bg-red-50 border border-red-300 text-red-700 rounded px-4 py-3 mb-5 text-sm"
    >
      {{ errorMessage }}
    </div>
  }

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="flex flex-col gap-1 mb-5">
      <label class="text-sm font-medium text-gray-700" for="id">
        Ear Tag Number <span class="text-red-500">*</span>
      </label>
      <input
        id="id"
        type="text"
        formControlName="id"
        placeholder="e.g. ET-1010"
        class="border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-green-700"
        [class.border-red-500]="isInvalid('id')"
      />
      @if (isInvalid("id")) {
        <span class="text-red-500 text-xs"
          >Ear tag is required (min 2 characters).</span
        >
      }
    </div>

    <div class="flex flex-col gap-1 mb-5">
      <label class="text-sm font-medium text-gray-700" for="sex">
        Sex <span class="text-red-500">*</span>
      </label>
      <select
        id="sex"
        formControlName="sex"
        class="border border-gray-300 rounded px-3 py-2 text-sm bg-white focus:outline-none focus:border-green-700"
        [class.border-red-500]="isInvalid('sex')"
      >
        <option value="">-- Select --</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
      @if (isInvalid("sex")) {
        <span class="text-red-500 text-xs">Sex is required.</span>
      }
    </div>

    <div class="flex flex-col gap-1 mb-5">
      <label class="text-sm font-medium text-gray-700" for="pen">
        Pen <span class="text-red-500">*</span>
      </label>
      <input
        id="pen"
        type="text"
        formControlName="pen"
        placeholder="e.g. Pen A"
        class="border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-green-700"
        [class.border-red-500]="isInvalid('pen')"
      />
      @if (isInvalid("pen")) {
        <span class="text-red-500 text-xs">Pen is required.</span>
      }
    </div>

    <div class="flex flex-col gap-1 mb-5">
      <label class="text-sm font-medium text-gray-700" for="status">
        Status <span class="text-red-500">*</span>
      </label>
      <select
        id="status"
        formControlName="status"
        class="border border-gray-300 rounded px-3 py-2 text-sm bg-white focus:outline-none focus:border-green-700"
      >
        <option value="Active">Active</option>
        <option value="In Treatment">In Treatment</option>
        <option value="Deceased">Deceased</option>
      </select>
    </div>

    <div class="flex flex-col gap-1 mb-5">
      <label class="text-sm font-medium text-gray-700" for="weight">
        Weight (kg)
        <span class="text-gray-400 text-xs font-normal ml-1">optional</span>
      </label>
      <input
        id="weight"
        type="number"
        formControlName="weight"
        placeholder="e.g. 500"
        min="0"
        class="border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-green-700"
        [class.border-red-500]="isInvalid('weight')"
      />
      @if (isInvalid("weight")) {
        <span class="text-red-500 text-xs"
          >Weight must be a positive number.</span
        >
      }
    </div>

    <div class="flex justify-end gap-3 mt-6 pt-5 border-t border-gray-100">
      <button
        type="button"
        class="border border-gray-300 bg-white hover:bg-gray-100 text-gray-600 text-sm px-5 py-2 rounded transition-colors"
        (click)="cancel()"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="bg-green-800 hover:bg-green-900 text-white text-sm font-medium px-5 py-2 rounded transition-colors"
      >
        Save Details
      </button>
    </div>
  </form>
</div>
